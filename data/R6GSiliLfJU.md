
## Nova Pro
### 셀 기반 아키텍처의 개념
* 셀 기반 아키텍처는 애플리케이션과 그 의존성을 여러 개의 독립적인 인스턴스로 분리하여 각각을 셀이라고 부름.
* 각 셀은 독립적으로 작동하며, 하나의 셀에서 발생하는 실패는 다른 셀에 영향을 미치지 않음.
* 셀은 물리적인 아키텍처가 아닌 논리적인 분리를 의미함.

### 셀 기반 아키텍처의 이점
* 셀 기반 아키텍처를 통해 실패의 영향 범위를 줄일 수 있음.
* 셀의 크기를 조절하여 확장성을 높일 수 있음.
* 셀 간의 데이터 공유를 최소화하여 실패 영향을 더욱 줄일 수 있음.

### 셀 기반 아키텍처의 구현
* 셀 기반 아키텍처를 구현하기 위해서는 데이터 모델링이 중요함.
* 각 셀은 독립적인 인스턴스이므로, 데이터는 셀 내부에서만 관리되어야 함.
* 셀 간의 트래픽 라우팅을 위한 정적으로 안정적인 라우팅 레이어를 구현해야 함.

### 셀 기반 아키텍처의 운영
* 셀 기반 아키텍처를 운영할 때는 각 셀의 크기를 고려해야 함.
* 작은 셀은 실패 영향을 더 줄일 수 있지만, 관리 복잡성이 증가함.
* 큰 셀은 관리가 더 쉬울 수 있지만, 실패 시 더 많은 사용자에게 영향을 미칠 수 있음.

### 셀 기반 아키텍처의 모니터링
* 셀 기반 아키텍처에서는 각 셀의 상태를 개별적으로 모니터링해야 함.
* 셀 간의 트래픽 라우팅을 위한 정적으로 안정적인 라우팅 레이어를 구현해야 함.

### 셀 기반 아키텍처의 확장성
* 셀 기반 아키텍처는 확장성을 높이기 위한 메커니즘 중 하나일 뿐임.
* 애플리케이션의 중요성과 복잡성에 따라 다른 확장 메커니즘을 고려할 수 있음.

### 셀 기반 아키텍처의 주의사항
* 셀 간에 데이터를 공유하지 않아야 함.
* 셀 간에 의존적인 로직이 없어야 함.
* 셀은 물리적인 아키텍처가 아닌 논리적인 분리를 의미함.


## Cloaude 3.5 Sonnet v2
### 장애 유형과 영향
* AWS에서는 코드 배포, 구성, 하드웨어, 데이터/상태, 서드파티, 코어 인프라 등 다양한 유형의 장애가 발생할 수 있다.
* 일반적인 고가용성(HA) 설계로 해결할 수 있는 장애와 DR(재해복구)로 대응해야 하는 장애로 구분된다.
* 특히 잘못된 배포, 인적 실수, 포이즌 필(poison pill) 같은 장애는 완전히 방지하기 어려운 문제로 지적된다.

### Cell-based 아키텍처
* Cell-based 아키텍처는 애플리케이션과 종속성을 포함한 전체 시스템을 독립된 단위(cell)로 분리하는 방식이다.
* 각 cell은 독립적으로 동작하며 데이터를 공유하지 않는 것이 원칙이다.
* Cell은 워크로드 격리와 장애 격리를 제공하며, 스케일 아웃 방식으로 확장된다.
* Cell은 가용영역(AZ)이나 리전과는 다른 논리적 격리 단위이다.

### 라우팅 메커니즘
* Cell-based 아키텍처에서는 요청을 적절한 cell로 라우팅하기 위한 얇은 라우팅 계층이 필요하다.
* DNS를 활용하는 방식과 서버 사이드 라우터를 구축하는 방식이 있다.
* 라우팅 계층은 매우 안정적이어야 하며, 컨트롤 플레인과 데이터 플레인을 분리하여 구현하는 것이 권장된다.

### Shuffle Sharding
* Shuffle sharding은 워크로드를 여러 노드에 무작위로 분산시켜 장애 영향을 최소화하는 기술이다.
* 일반 sharding보다 더 효과적으로 장애 영향을 줄일 수 있다.
* 노드 수와 샤드당 노드 수가 증가할수록 장애 영향을 받는 고객의 비율이 크게 감소한다.

### 운영 고려사항
* Cell의 크기는 관리 용이성과 장애 영향도 사이의 트레이드오프를 고려해야 한다.
* 각 cell의 부하 관리와 사용자 재분배가 필요하다.
* Cell 내부에서도 고가용성과 재해복구를 고려해야 한다.
* 모니터링은 전체 서비스 수준이 아닌 cell 단위로 이루어져야 한다.

