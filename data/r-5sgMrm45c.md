
## Nova Pro
### SaaS 애플리케이션에 대한 연합 ID 지원 추가
* AWS SaaS Factory 팀의 Dhammika Sriyananda와 Toby Buckley는 SaaS 애플리케이션에 연합 ID 지원을 추가하는 방법에 대해 설명했다.
* SaaS 애플리케이션에서 연합 ID를 추가하면 테넌트가 자체 ID 공급자(IdP)를 사용하여 단일 로그인(SSO)할 수 있다.

### 표준 SaaS ID 패턴
* SaaS 애플리케이션은 테넌트, 테넌트 사용자 및 ID를 중앙에서 관리하는 표준 ID 워크플로를 구현할 수 있다.
* 이러한 방식으로 SaaS 공급자는 ID를 관리하고 인증, 권한 부여와 같은 ID 작업을 제공할 수 있다.
* 토큰 기반 구현은 테넌트 사용자와 SaaS 애플리케이션 간의 다운스트림 통신을 자동화하는 데 도움이 된다.

### 연합 ID 추가
* 일부 테넌트는 보안, 취약성 및 회사 정책으로 인해 SaaS 공급자가 직원의 ID를 관리하는 것을 원하지 않을 수 있다.
* 이러한 테넌트는 기업 ID를 활용하여 모든 기업 애플리케이션에 대한 SSO 기능을 제공한다.
* SaaS 공급자는 연합 ID 지원을 추가하여 이러한 테넌트의 요구를 충족할 수 있다.

### 연합 ID 작동 방식
* SaaS 애플리케이션에 Amazon Cognito를 SaaS ID 공급자로 사용하는 경우, 테넌트의 자체 기업 ID를 사용하여 인증할 수 있다.
* 테넌트 사용자가 SaaS 애플리케이션에 액세스하려고 할 때 유효한 세션이 없으면 Cognito는 사용자가 연합되어야 함을 인식한다.
* Cognito는 클라이언트 측 리디렉션을 통해 요청을 테넌트의 기업 ID로 다시 보낸다.
* 기업 ID에서 인증이 성공하면 요청이 Cognito로 다시 리디렉션되고, Cognito는 사용자가 SaaS 애플리케이션에 액세스할 수 있도록 한다.

### 연합 ID 구현
* 연합 ID 구현에는 테넌트 온보딩 및 사용자의 단일 로그인을 지원하는 추가 기기가 포함된다.
* 테넌트 온보딩의 경우, SaaS 애플리케이션에 Cognito를 SaaS ID 공급자로 사용하고 테넌트의 자체 ID를 통합 앱으로 통합한다.
* 연합을 설정하기 위해 통합 앱 구성을 완료해야 한다.
* OIDC 또는 SAML과 같은 다양한 연합 프로토콜을 지원할 수 있다.

### Cognito의 설계
* Cognito는 풀링 모델(모든 테넌트에 대한 단일 사용자 풀) 또는 사일로 모델(테넌트당 사용자 풀)을 사용할 수 있다.
* 연합 ID 공급자를 생성하고 연합 사용자를 그룹으로 저장할 수 있다.
* 연합 ID 공급자는 OIDC 또는 SAML 구성을 저장하고, 사용자는 동일한 앱 클라이언트를 통해 인증된다.

### 연합 ID의 문제점
* 테넌트는 사용자의 수명 주기를 관리하고 싶어할 수 있다.
* 연합은 외부 ID 공급자가 사용자의 진실의 출처이므로, SaaS 공급자의 진실의 출처에 매핑하는 방법이 문제가 될 수 있다.
* 매핑을 통해 이러한 차이를 조정할 수 있다.
* 테넌트 ID를 해결하기 위해 Lambda 트리거를 사용할 수 있다.

### 고려 사항
* Cognito 트리거를 활용하여 SaaS 공급자가 직면할 수 있는 다양한 상황을 처리할 수 있다.
* 할당량, 제한 및 가격을 고려해야 한다.
* 사용자 풀은 사용자 등록 및 수명 주기 추적과 관련이 있으며, ID 풀은 웹 앱 또는 모바일 앱에 대한 단기 자격 증명과 관련이 있다.
* 연합은 추가 구성 요소가 있지만 Cognito를 사용하면 쉽게 구현할 수 있다.
* Cognito는 연합 허브 역할을 하며, 트리거를 통해 사용자 정의할 수 있다.
* 연합 ID 공급자를 자동으로 선택하여 복잡한 화면을 피할 수 있다.
* 온보딩 프로세스는 마찰이 없어야 한다.


## Cloaude 3.5 Sonnet v2
### SaaS 애플리케이션의 표준 ID 패턴
* SaaS 애플리케이션은 애플리케이션 영역과 SaaS 컨트롤 플레인으로 구성되어 있다.
* SaaS 컨트롤 플레인은 테넌트 온보딩과 같은 공유 서비스를 제공한다.
* 중앙 집중식 SaaS ID 공급자를 통해 사용자 ID를 안전하게 관리하고 운영한다.
* 사용자 프로필에는 사용자 속성과 테넌트 ID가 모두 포함되어야 한다.

### 연합 ID(Federated Identity) 지원
* 일부 테넌트는 직원들이 제3자 SaaS 앱에 직접 가입하는 것을 원하지 않는다.
* 기업 ID 공급자와 SSO(Single Sign-On)를 통한 통합을 선호한다.
* 연합 ID와 표준 ID 워크플로우는 대부분 공존해야 한다.
* 연합은 주로 프리미엄 기능으로 제공되며 상위 티어 테넌트에게만 제공된다.

### Cognito 구현 관련 고려사항
* Cognito는 OIDC와 SAML 2.0과 같은 다양한 연합 프로토콜을 지원한다.
* 사용자 풀은 pooled(공유) 또는 siloed(격리) 모델로 구성할 수 있다.
* Lambda 트리거를 통해 사용자 생성 및 인증 워크플로우를 커스터마이즈할 수 있다.
* 연합 사용자의 테넌트 ID 매핑과 속성 정규화가 필요하다.

### 구현 시 도전 과제
* 테넌트 온보딩 시 콜백 URL과 통합 앱 구성 간의 순환 종속성 해결이 필요하다.
* 여러 ID 프로토콜 지원과 자동화된 온보딩 프로세스 구축이 필요하다.
* 규정 준수 및 데이터 주권 요구사항을 고려해야 한다.
* 비용과 할당량 관리가 중요하다.

